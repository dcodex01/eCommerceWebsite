<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cart with Payment</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

  <div class="container my-5">
    <div class="card shadow p-4">
      <h2 class="text-center border-bottom pb-2">Your Cart</h2>

      
      <div class="d-flex align-items-center border-bottom py-3 cart-item" data-price="1299">
        <img src="1a.jpg" class="rounded me-3" width="100" alt="Product">
        <div class="flex-grow-1">
          <h5>Dress</h5>
          <p class="text-success fw-bold">₹<span class="item-total">1299</span></p>
          <div class="d-flex align-items-center">
            <label class="me-2">Qty:</label>
            <select class="form-select w-auto quantity">
              <option value="1" selected>1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
            </select>
          </div>
          <button class="btn btn-danger btn-sm mt-2 remove-btn">Remove</button>
        </div>
      </div>

      
      <div class="d-flex align-items-center border-bottom py-3 cart-item" data-price="999">
        <img src="2a.jpg" class="rounded me-3" width="100" alt="Product">
        <div class="flex-grow-1">
          <h5>Watch</h5>
          <p class="text-success fw-bold">₹<span class="item-total">999</span></p>
          <div class="d-flex align-items-center">
            <label class="me-2">Qty:</label>
            <select class="form-select w-auto quantity">
              <option value="1" selected>1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
            </select>
          </div>
          <button class="btn btn-danger btn-sm mt-2 remove-btn">Remove</button>
        </div>
      </div>

     
      <div class="text-end mt-3">
        <h4>Total: ₹<span id="cart-total">2298</span></h4>
        
        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#paymentModal">
          Proceed to Checkout
        </button>
      </div>
    </div>
  </div>

  
  <div class="modal fade" id="paymentModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content p-3">
        <div class="modal-header">
          <h5 class="modal-title">Complete Your Payment</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <p>Select a payment method:</p>

          
          <div class="form-check">
            <input class="form-check-input" type="radio" name="paymentMethod" id="card" checked>
            <label class="form-check-label" for="card">Credit / Debit Card</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="paymentMethod" id="upi">
            <label class="form-check-label" for="upi">UPI</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="paymentMethod" id="cod">
            <label class="form-check-label" for="cod">Cash on Delivery</label>
          </div>

          
          <div id="paymentDetails" class="mt-3">
            <input type="text" class="form-control mb-2" placeholder="Card Number">
            <input type="text" class="form-control mb-2" placeholder="Expiry Date (MM/YY)">
            <input type="text" class="form-control mb-2" placeholder="CVV">
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-success" id="payBtn">Pay Now</button>
        </div>
      </div>
    </div>
  </div>

  
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      function updateCartTotal() {
        let total = 0;
        document.querySelectorAll(".cart-item").forEach(item => {
          let price = +item.dataset.price;
          let qty = +item.querySelector(".quantity").value;
          let itemTotal = price * qty;
          item.querySelector(".item-total").textContent = itemTotal;
          total += itemTotal;
        });
        document.getElementById("cart-total").textContent = total;
      }

      document.querySelectorAll(".quantity").forEach(qty => {
        qty.addEventListener("change", updateCartTotal);
      });

      document.querySelectorAll(".remove-btn").forEach(btn => {
        btn.addEventListener("click", () => {
          btn.closest(".cart-item").remove();
          updateCartTotal();
        });
      });

      updateCartTotal();

      
      const cardFields = `
        <input type="text" class="form-control mb-2" placeholder="Card Number">
        <input type="text" class="form-control mb-2" placeholder="Expiry Date (MM/YY)">
        <input type="text" class="form-control mb-2" placeholder="CVV">
      `;
      const upiFields = `<input type="text" class="form-control mb-2" placeholder="Enter UPI ID">`;
      const codFields = `<p class="text-muted">Pay with cash upon delivery.</p>`;

      document.querySelectorAll('input[name="paymentMethod"]').forEach(option => {
        option.addEventListener("change", () => {
          let paymentDetails = document.getElementById("paymentDetails");
          if (document.getElementById("card").checked) paymentDetails.innerHTML = cardFields;
          if (document.getElementById("upi").checked) paymentDetails.innerHTML = upiFields;
          if (document.getElementById("cod").checked) paymentDetails.innerHTML = codFields;
        });
      });

      
      document.getElementById("payBtn").addEventListener("click", () => {
        alert("Payment Successful ✅");
        let modal = bootstrap.Modal.getInstance(document.getElementById('paymentModal'));
        modal.hide();
      });
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
